############################################
# Parámetros de entorno - Call Rescue (.env)
# Ajusta estos valores según tu entorno
############################################

# Identificación y flujo
NUMBER= +26197566       # Número local de la línea (E.164, ej. +5989XXXXXXX)
WEBHOOK_URL='https://portal.kaliz.pro/call_rescue/webhook'           # URL del webhook para eventos (opcional)

# Módem/serie
PORT='/dev/ttyACM0'     # Puerto serie del módem (Linux: /dev/ttyACM0, macOS: /dev/tty.usbmodemXXXX)
BAUD=115200             # Baudrate. Si hay jitter/cortes, probar 57600
MAX_RINGS=3             # Timbres antes de contestar

# Audio a reproducir
AUDIO_FILE=voices/busy_lines.wav  # Ruta al WAV a reproducir
PLAY_AUDIO=1            # 1/true: reproduce audio; 0/false: cuelga sin audio
HANGUP_DELAY_MS=1200    # Retardo antes de colgar en modo “colgar sin audio”

# Normalización del número entrante
COUNTRY_CODE=598        # Código de país para normalizar (Uruguay=598)
TRUNK_PREFIX=0          # Prefijo a remover (p. ej., 0)

# Códec y muestreo (voz)
AUTO_VSM=0              # 1: autodetecta códec/tasa con AT+VSM=? ; 0: usa VSM_CODEC
VSM_CODEC=129           # Si AUTO_VSM=0: 130=µ-law, 129=A-law (UR/EU), 128=PCM 8-bit
SAMPLE_RATE=8000        # Frecuencia de muestreo objetivo (normalmente 8000 Hz)

# Ganancias y formato PCM
TX_GAIN=160             # Ganancia TX (si el módem soporta AT+VGT). Prueba 96/112/128/144/160
PCM8_SIGNED=0           # 1 si tu PCM 8-bit es signed; 0 si unsigned (lo usual)

# Mejora de calidad (pre-procesado en PCM16)
NORMALIZE_RMS=1         # 1: normaliza RMS para mejorar nivel sin clip duro
TARGET_RMS=8000         # Objetivo RMS (PCM16). Baja si satura (ej. 3500–4000)
REMOVE_DC=1             # 1: elimina componente DC del WAV
PRE_SILENCE_MS=200      # Silencio inicial para estabilizar enlace (100–300 ms)
